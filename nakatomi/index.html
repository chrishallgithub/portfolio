<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Nakatomi Plaza</title>

<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="js/jquery.color.js"></script>
<script type="text/javascript" src="js/raphael-min.js"></script>
<script type="text/javascript" src="js/raphael.free_transform.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>

</head>

<body>

<div id="loading">Loading...</div>
<!-- <div id="reset" style="text-align:right;">Reset</div> -->
<div id="rsr" style="display:none;"></div>

</body>
</html>

<script type="text/javascript">

//http://www.readysetraphael.com/
var rsr = Raphael('rsr', '983.323', '625.747');

var path_c = rsr.path("M494.346,259.777c0,17.159,13.91,31.07,31.069,31.07s31.07-13.911,31.07-31.07 c0-17.165-13.911-31.076-31.07-31.076S494.346,242.612,494.346,259.777z");
path_c.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_c').node.id = 'path_c';
var circle_d = rsr.circle(491, 200, 31);
circle_d.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'circle_d').node.id = 'circle_d';
var path_e = rsr.path("M458.542,290.657c17.159,0,31.07-13.912,31.07-31.071c0-17.165-13.912-31.075-31.07-31.075 c-17.162,0-31.073,13.911-31.073,31.075C427.468,276.745,441.379,290.657,458.542,290.657z");
path_e.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_e').node.id = 'path_e';
var path_f = rsr.path("M 486.972,360.627 370.375,360.627 254.753,244.962 254.753,242.431 246.293,242.431 0,488.686 5.812,494.494 130.157,494.494 254.753,369.911 308.958,424.116 432.101,424.116 491.246,364.973  z");
path_f.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_f').node.id = 'path_f';
var path_g = rsr.path("M 274.166,583.057 282.632,583.057 282.632,582.931 274.292,582.931  z");
path_g.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_g').node.id = 'path_g';
var path_h = rsr.path("M736.97,242.863l-1.912-1.913l-59.716-59.701l60.391-60.393v-2.105L617.034,0h-4.079v118.572l-65.632,65.775 c13.998,14.167,22.649,33.631,22.649,55.125c0,43.321-35.121,78.438-78.442,78.438c-43.321,0-78.441-35.118-78.441-78.438 c0-21.53,8.678-41.023,22.717-55.197l-65.567-65.703V0h-4.081L247.464,118.75v2.105l60.394,60.393l-59.715,59.701l-1.789,1.788 h8.337v-0.066H369.29l118.369,118.386h-0.749l4.275,4.348l0.388-0.391l-9.045-9.47l9.045,9.47l0.023-0.027l0.012,0.009l3.941-3.938 h-0.012l118.367-118.386h114.603v0.191H736.97z");
path_h.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_h').node.id = 'path_h';
var path_i = rsr.path("M 736.457,242.293 727.998,242.293 727.998,244.825 612.373,360.489 495.035,360.489 491.098,364.427   550.646,423.979 673.792,423.979 727.998,369.772 852.593,494.358 976.939,494.358 982.747,488.548  z");
path_i.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_i').node.id = 'path_i';
var path_j = rsr.path("M754.426,442.648v81.482c7.098,0,14.196,0,21.188,0v-62.855c0-6.991,0-11.761,0-18.627  C758.966,442.648,771.072,442.648,754.426,442.648z");
path_j.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_j').node.id = 'path_j';
var path_k = rsr.path("M256.545,482.417l-41.196-40.282h-7.574v81.836c7.105,0,14.335,0,21.536,0v-40.044l41.091,40.157h7.467  v-81.603c-7.115,0-14.219,0-21.324,0V482.417z");
path_k.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_k').node.id = 'path_k';
var path_l = rsr.path("M531.583,523.971c6.887,0,13.75,0,20.619,0v-62.855h19.896c0-6.288,0-12.461,0-18.634H511.57  c0,6.173,0,12.346,0,18.634h20.013V523.971z");
path_l.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_l').node.id = 'path_l';
var path_m = rsr.path("M655.457,483.342c0-56.337-83.583-56.337-83.583,0C571.874,539.81,655.457,539.81,655.457,483.342z   M634.155,483.342c0,29.576-40.862,29.576-40.862,0C593.293,454.016,634.155,454.016,634.155,483.342z");
path_m.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_m').node.id = 'path_m';
var path_n = rsr.path("M702.489,477.646l-31.903-35.394h-7.685v81.718c7.106,0,14.219,0,21.305,0v-36.318l17.223,18.156h2.334  l17.341-18.156v36.318c7.111,0,14.205,0,21.309,0v-81.718h-7.451L702.489,477.646z");
path_n.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_n').node.id = 'path_n';
var path_o = rsr.path("M412.426,523.971h23.163v-3.253l-22.437-36.419v-1.978l22.437-36.413v-3.26h-23.163l-17.923,31.541  l-8.045,0.018v-31.559c-7.206,0-14.188,0-21.171,0v39.638v0.047v1.952v0.041v39.645c6.983,0,13.965,0,21.171,0v-31.534h8.045  L412.426,523.971z");
path_o.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_o').node.id = 'path_o';
var path_p = rsr.path("M347.997,544.258c-11.992,0-24.094,0-35.846,0c0,27.243,0,54.372,0,81.489c6.86,0,13.856,0,20.827,0v-20.836  h15.019C386.992,604.911,386.992,544.378,347.997,544.258z M347.895,586.171h-14.917c0-6.633,0-16.652,0-23.28  c4.792,0,10.024-0.123,14.917,0C359.988,562.998,359.295,586.171,347.895,586.171z");
path_p.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_p').node.id = 'path_p';
var path_q = rsr.path("M403.503,544.258c-7.098,0-13.97,0-20.95,0v81.489c16.531,0,33.762,0,50.521,0c0-6.984,0-11.755,0-18.747  h-29.571C403.503,572.317,403.503,586.397,403.503,544.258z");
path_q.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_q').node.id = 'path_q';
var path_r = rsr.path("M585.34,547.404v-3.146h-61.686c0,7.099,0,11.528,0,18.633h30.252l-33.285,59.717v3.14h65.077  c0-7.098,0-11.528,0-18.62h-33.75L585.34,547.404z");
path_r.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_r').node.id = 'path_r';
var path_s = rsr.path("M625.467,543.213l-36.657,79.508v3.026h82.427v-3.026l-36.802-79.508H625.467z M618.088,605.581h-0.155  l11.971-27.555l12.102,27.572h-0.071l0.012-0.018H618.088z");
path_s.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_s').node.id = 'path_s';
var path_t = rsr.path("M472.219,543.213l-36.655,79.508v3.026h82.424v-3.026l-36.798-79.508H472.219z M464.839,605.581h-0.155  l11.971-27.555l12.104,27.572h-0.072l0.013-0.018H464.839z");
path_t.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_t').node.id = 'path_t';
var path_u = rsr.path("M475.542,441.603l-36.655,79.502v3.026h82.428v-3.026l-36.802-79.502H475.542z M468.163,503.965h-0.155  l11.971-27.555l12.102,27.572h-0.072l0.012-0.018H468.163z");
path_u.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_u').node.id = 'path_u';
var path_v = rsr.path("M316.706,441.603l-36.658,79.502v3.026h82.428v-3.026l-36.802-79.502H316.706z M309.326,503.965h-0.155  l11.97-27.555l12.102,27.572h-0.071l0.012-0.018H309.326z");
path_v.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_v').node.id = 'path_v';
var path_w = rsr.path("M 273.599,583.054 282.065,583.054 282.065,582.928 273.725,582.928  z");
path_w.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_w').node.id = 'path_w';
var group_a = rsr.set();
var path_x = rsr.path("M 134.6,505.66 130.161,505.66 67.874,505.66 0,573.56 5.507,579.071 130.161,579.071    185.915,523.32 185.915,454.356 137.743,502.52   z").attr({fill: '#1D1D1B',parent: 'group_a','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_x');
path_x.node.id = 'path_x';
group_a.attr({'name': 'group_a'});
var group_b = rsr.set();
var path_y = rsr.path("M 848.728,505.66 853.169,505.66 915.452,505.66 983.323,573.56 977.819,579.071 853.169,579.071    797.411,523.32 797.411,454.356 845.587,502.52   z").attr({fill: '#1D1D1B',parent: 'group_b','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_y');
path_y.node.id = 'path_y';
group_b.attr({'name': 'group_b'});

var rsrGroups = [group_a,group_b];
group_a.push(
    path_x 
);
group_b.push(
    path_y 
);

//enable "fill' to be updated
jQuery.Color.hook("fill");

//var socket = io.connect('10.0.0.10:8000');
//var socket = io.connect();

var socket = io.connect('https://nakatomi.herokuapp.com',{secure: true,    rejectUnauthorized: false});


var id, newColour;

var shapes = ["path_c","circle_d","path_e","path_f","path_g","path_h","path_i","path_j","path_k","path_l","path_m","path_n","path_o","path_p","path_q","path_r","path_s","path_t","path_u","path_v","path_w","path_x","path_y"];


$("#path_c,#circle_d,#path_e,#path_f,#path_g,#path_h,#path_i,#path_j,#path_k,#path_l,#path_m,#path_n,#path_o,#path_p, #path_q,#path_r,#path_s,#path_t,#path_u,#path_v,#path_w,#path_x,#path_y").click(function(){
        
    socket.emit('colourClick', this.id);
            
});



// Reset with query string
// http://localhost:5000/?reset=true

function getQueryVariable(variable)
{
   var query = window.location.search.substring(1);
   var vars = query.split("&");
   for (var i=0;i<vars.length;i++) {
           var pair = vars[i].split("=");
           if(pair[0] == variable){return pair[1];}
   }
   return(false);
}

if (getQueryVariable("reset") === "true"){
    socket.emit('emitResetColours');
}
/*$("#reset").click(function(){
        
    socket.emit('emitResetColours');
            
});*/

function draw(id, newColour){
    
    $("#"+id).css("fill" , newColour);
        
}

socket.on('connect', function(){
    
    $("#loading").css("display" ,"none");
    $("#rsr").css("display" ,"inline");
    socket.emit('getColours');

});

socket.on('updateMove', function (id, newColour) {
    draw(id, newColour);

});

socket.on('sendResetColours', function () {
        
    socket.emit('emitResetColours', false);
    
});



socket.on('sendClickColour', function (id, clickColour) {

    draw(id, clickColour);

});

socket.on('sendColours', function (allColours, reset) {

    //console.log(allColours);
    
    for (var key in allColours) {
        if (allColours.hasOwnProperty(key)) {
            var obj = allColours[key];
            
            for (var prop in obj) {

                //console.log(obj[prop]);

                if (obj.hasOwnProperty(prop)) {
                    key = key.replace('colorTimer_','');

                    var fill = obj[prop];


                    if(reset = true){

                        fill = 'rgb(0,0,0)';

                    }


                    $("#" + key).css({"fill" : fill });
                }
            }
        }
    }

});

</script>

<!-- <!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Nakatomi Plaza</title>

<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="js/jquery.color.js"></script>
<script type="text/javascript" src="js/raphael-min.js"></script>
<script type="text/javascript" src="js/raphael.free_transform.js"></script>
<script type="text/javascript" src="/socket.io/socket.io.js"></script>

</head>

<body>

<div id="loading">Loading...</div>
<div id="rsr" style="display:none;"></div>

</body>
</html>

<script type="text/javascript">

//http://www.readysetraphael.com/
var rsr = Raphael('rsr', '983.323', '625.747');

var path_c = rsr.path("M494.346,259.777c0,17.159,13.91,31.07,31.069,31.07s31.07-13.911,31.07-31.07 c0-17.165-13.911-31.076-31.07-31.076S494.346,242.612,494.346,259.777z");
path_c.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_c').node.id = 'path_c';
var circle_d = rsr.circle(491, 200, 31);
circle_d.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'circle_d').node.id = 'circle_d';
var path_e = rsr.path("M458.542,290.657c17.159,0,31.07-13.912,31.07-31.071c0-17.165-13.912-31.075-31.07-31.075 c-17.162,0-31.073,13.911-31.073,31.075C427.468,276.745,441.379,290.657,458.542,290.657z");
path_e.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_e').node.id = 'path_e';
var path_f = rsr.path("M 486.972,360.627 370.375,360.627 254.753,244.962 254.753,242.431 246.293,242.431 0,488.686 5.812,494.494 130.157,494.494 254.753,369.911 308.958,424.116 432.101,424.116 491.246,364.973  z");
path_f.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_f').node.id = 'path_f';
var path_g = rsr.path("M 274.166,583.057 282.632,583.057 282.632,582.931 274.292,582.931  z");
path_g.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_g').node.id = 'path_g';
var path_h = rsr.path("M736.97,242.863l-1.912-1.913l-59.716-59.701l60.391-60.393v-2.105L617.034,0h-4.079v118.572l-65.632,65.775 c13.998,14.167,22.649,33.631,22.649,55.125c0,43.321-35.121,78.438-78.442,78.438c-43.321,0-78.441-35.118-78.441-78.438 c0-21.53,8.678-41.023,22.717-55.197l-65.567-65.703V0h-4.081L247.464,118.75v2.105l60.394,60.393l-59.715,59.701l-1.789,1.788 h8.337v-0.066H369.29l118.369,118.386h-0.749l4.275,4.348l0.388-0.391l-9.045-9.47l9.045,9.47l0.023-0.027l0.012,0.009l3.941-3.938 h-0.012l118.367-118.386h114.603v0.191H736.97z");
path_h.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_h').node.id = 'path_h';
var path_i = rsr.path("M 736.457,242.293 727.998,242.293 727.998,244.825 612.373,360.489 495.035,360.489 491.098,364.427   550.646,423.979 673.792,423.979 727.998,369.772 852.593,494.358 976.939,494.358 982.747,488.548  z");
path_i.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_i').node.id = 'path_i';
var path_j = rsr.path("M754.426,442.648v81.482c7.098,0,14.196,0,21.188,0v-62.855c0-6.991,0-11.761,0-18.627  C758.966,442.648,771.072,442.648,754.426,442.648z");
path_j.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_j').node.id = 'path_j';
var path_k = rsr.path("M256.545,482.417l-41.196-40.282h-7.574v81.836c7.105,0,14.335,0,21.536,0v-40.044l41.091,40.157h7.467  v-81.603c-7.115,0-14.219,0-21.324,0V482.417z");
path_k.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_k').node.id = 'path_k';
var path_l = rsr.path("M531.583,523.971c6.887,0,13.75,0,20.619,0v-62.855h19.896c0-6.288,0-12.461,0-18.634H511.57  c0,6.173,0,12.346,0,18.634h20.013V523.971z");
path_l.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_l').node.id = 'path_l';
var path_m = rsr.path("M655.457,483.342c0-56.337-83.583-56.337-83.583,0C571.874,539.81,655.457,539.81,655.457,483.342z   M634.155,483.342c0,29.576-40.862,29.576-40.862,0C593.293,454.016,634.155,454.016,634.155,483.342z");
path_m.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_m').node.id = 'path_m';
var path_n = rsr.path("M702.489,477.646l-31.903-35.394h-7.685v81.718c7.106,0,14.219,0,21.305,0v-36.318l17.223,18.156h2.334  l17.341-18.156v36.318c7.111,0,14.205,0,21.309,0v-81.718h-7.451L702.489,477.646z");
path_n.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_n').node.id = 'path_n';
var path_o = rsr.path("M412.426,523.971h23.163v-3.253l-22.437-36.419v-1.978l22.437-36.413v-3.26h-23.163l-17.923,31.541  l-8.045,0.018v-31.559c-7.206,0-14.188,0-21.171,0v39.638v0.047v1.952v0.041v39.645c6.983,0,13.965,0,21.171,0v-31.534h8.045  L412.426,523.971z");
path_o.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_o').node.id = 'path_o';
var path_p = rsr.path("M347.997,544.258c-11.992,0-24.094,0-35.846,0c0,27.243,0,54.372,0,81.489c6.86,0,13.856,0,20.827,0v-20.836  h15.019C386.992,604.911,386.992,544.378,347.997,544.258z M347.895,586.171h-14.917c0-6.633,0-16.652,0-23.28  c4.792,0,10.024-0.123,14.917,0C359.988,562.998,359.295,586.171,347.895,586.171z");
path_p.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_p').node.id = 'path_p';
var path_q = rsr.path("M403.503,544.258c-7.098,0-13.97,0-20.95,0v81.489c16.531,0,33.762,0,50.521,0c0-6.984,0-11.755,0-18.747  h-29.571C403.503,572.317,403.503,586.397,403.503,544.258z");
path_q.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_q').node.id = 'path_q';
var path_r = rsr.path("M585.34,547.404v-3.146h-61.686c0,7.099,0,11.528,0,18.633h30.252l-33.285,59.717v3.14h65.077  c0-7.098,0-11.528,0-18.62h-33.75L585.34,547.404z");
path_r.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_r').node.id = 'path_r';
var path_s = rsr.path("M625.467,543.213l-36.657,79.508v3.026h82.427v-3.026l-36.802-79.508H625.467z M618.088,605.581h-0.155  l11.971-27.555l12.102,27.572h-0.071l0.012-0.018H618.088z");
path_s.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_s').node.id = 'path_s';
var path_t = rsr.path("M472.219,543.213l-36.655,79.508v3.026h82.424v-3.026l-36.798-79.508H472.219z M464.839,605.581h-0.155  l11.971-27.555l12.104,27.572h-0.072l0.013-0.018H464.839z");
path_t.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_t').node.id = 'path_t';
var path_u = rsr.path("M475.542,441.603l-36.655,79.502v3.026h82.428v-3.026l-36.802-79.502H475.542z M468.163,503.965h-0.155  l11.971-27.555l12.102,27.572h-0.072l0.012-0.018H468.163z");
path_u.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_u').node.id = 'path_u';
var path_v = rsr.path("M316.706,441.603l-36.658,79.502v3.026h82.428v-3.026l-36.802-79.502H316.706z M309.326,503.965h-0.155  l11.97-27.555l12.102,27.572h-0.071l0.012-0.018H309.326z");
path_v.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_v').node.id = 'path_v';
var path_w = rsr.path("M 273.599,583.054 282.065,583.054 282.065,582.928 273.725,582.928  z");
path_w.attr({fill: '#1D1D1B','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_w').node.id = 'path_w';
var group_a = rsr.set();
var path_x = rsr.path("M 134.6,505.66 130.161,505.66 67.874,505.66 0,573.56 5.507,579.071 130.161,579.071    185.915,523.32 185.915,454.356 137.743,502.52   z").attr({fill: '#1D1D1B',parent: 'group_a','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_x');
path_x.node.id = 'path_x';
group_a.attr({'name': 'group_a'});
var group_b = rsr.set();
var path_y = rsr.path("M 848.728,505.66 853.169,505.66 915.452,505.66 983.323,573.56 977.819,579.071 853.169,579.071    797.411,523.32 797.411,454.356 845.587,502.52   z").attr({fill: '#1D1D1B',parent: 'group_b','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path_y');
path_y.node.id = 'path_y';
group_b.attr({'name': 'group_b'});

var rsrGroups = [group_a,group_b];
group_a.push(
    path_x 
);
group_b.push(
    path_y 
);

//enable "fill' to be updated
jQuery.Color.hook("fill");

//var socket = io.connect('10.0.0.10:8000');
var socket = io.connect();

//var socket = io.connect('https://nakatomi.herokuapp.com',{secure: true,    rejectUnauthorized: false});


var id, newColour;

var shapes = ["path_c","circle_d","path_e","path_f","path_g","path_h","path_i","path_j","path_k","path_l","path_m","path_n","path_o","path_p","path_q","path_r","path_s","path_t","path_u","path_v","path_w","path_x","path_y"];


$("#path_c,#circle_d,#path_e,#path_f,#path_g,#path_h,#path_i,#path_j,#path_k,#path_l,#path_m,#path_n,#path_o,#path_p, #path_q,#path_r,#path_s,#path_t,#path_u,#path_v,#path_w,#path_x,#path_y").click(function(){
        
    socket.emit('colourClick', this.id);
            
});

function draw(id, newColour){
    
    $("#"+id).css("fill" , newColour);
        
}

socket.on('connect', function(){
    
    $("#loading").css("display" ,"none");
    $("#rsr").css("display" ,"inline");
    socket.emit('getColours');

});

socket.on('updateMove', function (id, newColour) {
    draw(id, newColour);

});

socket.on('sendClickColour', function (id, clickColour) {

    draw(id, clickColour);

});

socket.on('sendColours', function (allColours) {
    
    for (var key in allColours) {
        if (allColours.hasOwnProperty(key)) {
            var obj = allColours[key];
            
            for (var prop in obj) {
                if (obj.hasOwnProperty(prop)) {
                    key = key.replace('colorTimer_','');
                    $("#" + key).css({"fill" : obj[prop] });
                }
            }
        }
    }

});

</script>

-->